/* =====================================================
   Unified Buttons & Badges palette (conflict resolution)
   Ensures consistent contrast and colors across themes
   ===================================================== */

/* Buttons: consistent semantic colors with safe contrast */
.btn {
  border: none !important; /* bordes removidos para acabado plano */
}
.btn-primary {
  /* Usar el acento de sección si está definido; fallback a color primario */
  background-color: var(--leaflet-accent, var(--primary-color, #3b82f6)) !important;
  background-image: none !important;
  border-color: transparent !important;
  color: #ffffff !important;
  box-shadow: none !important;
}
.btn-primary:hover {
  /* Mantener coherencia suavizando brillo si no hay tono oscuro */
  background-color: var(--leaflet-accent, var(--primary-dark, #1e40af)) !important;
  border-color: var(--leaflet-accent, var(--primary-dark, #1e40af)) !important;
  filter: brightness(0.95);
}
.btn-secondary {
  background-color: #e5e7eb !important;
  background-image: none !important;
  border-color: transparent !important;
  color: #0f172a !important;
}
.btn-success {
  background-color: var(--success-color, #10b981) !important;
  background-image: none !important;
  border-color: transparent !important;
  color: #ffffff !important;
}
.btn-warning {
  background-color: var(--warning-color, #f59e0b) !important;
  background-image: none !important;
  border-color: transparent !important;
  color: #111827 !important; /* dark text for accessibility on amber */
}
.btn-danger {
  background-color: var(--danger-color, #ef4444) !important;
  background-image: none !important;
  border-color: transparent !important;
  color: #ffffff !important;
}
.btn-info {
  background-color: var(--leaflet-accent, var(--primary-color, #3b82f6)) !important;
  background-image: none !important;
  border-color: transparent !important;
  color: #ffffff !important;
}

/* Badges: soft backgrounds with strong readable text */
.badge {
  border: 1px solid var(--border-color, #e5e7eb);
  box-shadow: none;
}
.badge.bg-primary { background-color: #f5f3ff !important; color: #4c1d95 !important; border-color: #ddd6fe !important; }
.badge.bg-success { background-color: #ecfdf5 !important; color: #065f46 !important; border-color: #a7f3d0 !important; }
.badge.bg-warning { background-color: #fffbeb !important; color: #92400e !important; border-color: #fde68a !important; }
.badge.bg-danger { background-color: #fef2f2 !important; color: #991b1b !important; border-color: #fecaca !important; }
.badge.bg-info { background-color: #eff6ff !important; color: #1e40af !important; border-color: #bfdbfe !important; }
/* Add secondary variant for non-soft badges */
.badge.bg-secondary { background-color: #f1f5f9 !important; color: #334155 !important; border-color: #e5e7eb !important; }

/* =============================================
   Acento unificado en navegación y breadcrumbs
   ============================================= */
/* Pills activos: usar acento de sección y texto blanco */
.nav-pills .nav-link.active,
.nav-pills .show > .nav-link {
  background-color: var(--leaflet-accent, var(--primary-color, #3b82f6)) !important;
  border-color: var(--leaflet-accent, var(--primary-color, #3b82f6)) !important;
  color: #ffffff !important;
}

/* Tabs activos: borde y texto con acento (sin fondo forzado) */
.nav-tabs .nav-link.active,
.nav-tabs .nav-item.show .nav-link {
  color: var(--leaflet-accent, var(--primary-color, #3b82f6)) !important;
  border-color: var(--leaflet-accent, var(--primary-color, #3b82f6)) !important;
}

/* Breadcrumb activo: texto con acento */
.breadcrumb .breadcrumb-item.active {
  color: var(--leaflet-accent, var(--primary-color, #3b82f6)) !important;
}

/* Badges primarias: acento de sección con texto blanco */
.badge.bg-primary,
.badge.text-bg-primary {
  background-color: var(--leaflet-accent, var(--primary-color, #3b82f6)) !important;
  border-color: var(--leaflet-accent, var(--primary-color, #3b82f6)) !important;
  color: #ffffff !important;
}

/* Badges soft primarias: tono suave con texto en acento */
.badge-soft-primary,
.badge-soft .badge-soft-primary {
  background-color: color-mix(in srgb, var(--leaflet-accent, var(--primary-color, #3b82f6)) 16%, #ffffff) !important;
  border-color: color-mix(in srgb, var(--leaflet-accent, var(--primary-color, #3b82f6)) 24%, #e5e7eb) !important;
  color: var(--leaflet-accent, var(--primary-color, #3b82f6)) !important;
}

/* Navbar: color de texto blanco al hacer hover en nav-link */
.navbar .nav-link:hover {
  color: #ffffff !important;
}
.navbar .nav-link:hover svg,
.navbar .nav-link:hover i {
  color: #ffffff !important;
}

/* =============================================
   Botones coherentes: base, tamaños y variantes
   ============================================= */

/* Base: tipografía, padding y radio consistentes */
.btn {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  font-weight: 600 !important;
  border-radius: 0.5rem !important; /* radio coherente */
  padding: 0.5rem 1rem !important; /* padding coherente */
  line-height: 1.4;
  transition: all 0.15s ease;
}

/* Tamaños */
.btn-sm {
  padding: 0.375rem 0.75rem !important;
  font-size: 0.875rem !important;
  border-radius: 0.375rem !important;
}
.btn-lg {
  padding: 0.625rem 1.25rem !important;
  font-size: 1rem !important;
  border-radius: 0.75rem !important;
}

/* Variables de intensidades para feedback de botones */
:root {
  /* Sólidos: oscurecer con negro en hover/active */
  --btn-solid-hover-darken: 90%;
  --btn-solid-active-darken: 80%;
  /* Outline ghost: tintar sobre blanco en hover/active */
  --btn-outline-hover-tint: 12%;
  --btn-outline-active-tint: 20%;

  /* Overrides por variante: permiten ajustes finos si se requiere */
  --btn-primary-hover-darken: var(--btn-solid-hover-darken);
  --btn-primary-active-darken: var(--btn-solid-active-darken);
  --btn-success-hover-darken: var(--btn-solid-hover-darken);
  --btn-success-active-darken: var(--btn-solid-active-darken);
  --btn-warning-hover-darken: 88%;
  --btn-warning-active-darken: 78%;
  --btn-danger-hover-darken: var(--btn-solid-hover-darken);
  --btn-danger-active-darken: var(--btn-solid-active-darken);
  --btn-info-hover-darken: var(--btn-solid-hover-darken);
  --btn-info-active-darken: var(--btn-solid-active-darken);

  --btn-primary-outline-hover-tint: var(--btn-outline-hover-tint);
  --btn-primary-outline-active-tint: var(--btn-outline-active-tint);
  --btn-success-outline-hover-tint: var(--btn-outline-hover-tint);
  --btn-success-outline-active-tint: var(--btn-outline-active-tint);
  --btn-warning-outline-hover-tint: var(--btn-outline-hover-tint);
  --btn-warning-outline-active-tint: var(--btn-outline-active-tint);
  --btn-danger-outline-hover-tint: var(--btn-outline-hover-tint);
  --btn-danger-outline-active-tint: var(--btn-outline-active-tint);
  --btn-info-outline-hover-tint: var(--btn-outline-hover-tint);
  --btn-info-outline-active-tint: var(--btn-outline-active-tint);
}

/* Variantes: primary y secondary coherentes */
.btn-primary {
  background-color: var(--leaflet-accent, var(--primary-color, #3b82f6)) !important;
  background-image: none !important;
  border-color: transparent !important;
  color: #ffffff !important;
}
.btn-secondary {
  background-color: #e5e7eb !important;
  background-image: none !important;
  border-color: transparent !important;
  color: #0f172a !important;
}

/* Outline coherente */
.btn-outline-primary {
  border: none !important; /* ghost: sin borde */
  color: var(--leaflet-accent, var(--primary-color, #3b82f6)) !important;
  background-color: transparent !important;
}
.btn-outline-primary:hover {
  background-color: color-mix(in srgb, var(--leaflet-accent, var(--primary-color, #3b82f6)) var(--btn-primary-outline-hover-tint), #ffffff) !important;
}
/* Active ligeramente más marcado para feedback claro */
.btn-outline-primary:active, .btn-outline-primary.active {
  background-color: color-mix(in srgb, var(--leaflet-accent, var(--primary-color, #3b82f6)) var(--btn-primary-outline-active-tint), #ffffff) !important;
}

/* Estados: hover, active, focus y disabled */
.btn:hover, .btn:active {
  transform: none !important; /* sin movimiento vertical */
}
.btn-primary:hover {
  background-color: color-mix(in srgb, var(--leaflet-accent, var(--primary-color, #3b82f6)) var(--btn-primary-hover-darken), #000000) !important;
}
.btn-primary:active {
  background-color: color-mix(in srgb, var(--leaflet-accent, var(--primary-color, #3b82f6)) var(--btn-primary-active-darken), #000000) !important;
}
.btn:focus-visible {
  outline: none !important;
  box-shadow: 0 0 0 0.2rem rgba(59, 130, 246, 0.25) !important; /* acorde al acento */
}
.btn:disabled, .btn.disabled {
  opacity: 0.6 !important;
  cursor: not-allowed !important;
  filter: saturate(0.9) !important;
}

/* Iconos dentro del botón: separación consistente */
.btn svg, .btn i {
  margin-right: 0.5rem !important;
}

/* Variantes adicionales con acabado plano */
.btn-success:hover {
  background-color: color-mix(in srgb, var(--success-color, #10b981) var(--btn-success-hover-darken), #000000) !important;
}
.btn-success:active {
  background-color: color-mix(in srgb, var(--success-color, #10b981) var(--btn-success-active-darken), #000000) !important;
}
.btn-warning:hover {
  background-color: color-mix(in srgb, var(--warning-color, #f59e0b) var(--btn-warning-hover-darken), #000000) !important;
  color: #111827 !important;
}
.btn-warning:active {
  background-color: color-mix(in srgb, var(--warning-color, #f59e0b) var(--btn-warning-active-darken), #000000) !important;
  color: #111827 !important;
}
.btn-danger:hover {
  background-color: color-mix(in srgb, var(--danger-color, #ef4444) var(--btn-danger-hover-darken), #000000) !important;
}
.btn-danger:active {
  background-color: color-mix(in srgb, var(--danger-color, #ef4444) var(--btn-danger-active-darken), #000000) !important;
}
.btn-info:hover {
  background-color: color-mix(in srgb, var(--info-color, #3b82f6) var(--btn-info-hover-darken), #000000) !important;
}
.btn-info:active {
  background-color: color-mix(in srgb, var(--info-color, #3b82f6) var(--btn-info-active-darken), #000000) !important;
}

/* Variantes outline planas y coherentes */
.btn-outline-secondary {
  border: none !important; /* ghost */
  color: var(--text-primary, #0f172a) !important;
  background-color: transparent !important;
}
.btn-outline-secondary:hover {
  background-color: #f8fafc !important; /* suave neutro */
  color: var(--text-primary, #0f172a) !important;
}
/* Active con un neutro un poco más oscuro */
.btn-outline-secondary:active, .btn-outline-secondary.active {
  background-color: #f1f5f9 !important;
  color: var(--text-primary, #0f172a) !important;
}
.btn-outline-secondary:focus-visible {
  box-shadow: 0 0 0 0.2rem rgba(100, 116, 139, 0.25) !important; /* slate */
}
.btn-outline-secondary:disabled, .btn-outline-secondary.disabled {
  color: #9ca3af !important;
  border-color: #e5e7eb !important;
  background-color: transparent !important;
}

.btn-outline-success {
  border: none !important;
  color: var(--success-color, #10b981) !important;
  background-color: transparent !important;
}
.btn-outline-success:hover {
  background-color: color-mix(in srgb, var(--success-color, #10b981) var(--btn-success-outline-hover-tint), #ffffff) !important;
}
/* Active ligeramente más marcado */
.btn-outline-success:active, .btn-outline-success.active {
  background-color: color-mix(in srgb, var(--success-color, #10b981) var(--btn-success-outline-active-tint), #ffffff) !important;
}
.btn-outline-success:focus-visible {
  box-shadow: 0 0 0 0.2rem rgba(16, 185, 129, 0.25) !important;
}
.btn-outline-success:disabled, .btn-outline-success.disabled {
  color: color-mix(in srgb, var(--success-color, #10b981) 52%, #9ca3af) !important;
  border-color: color-mix(in srgb, var(--success-color, #10b981) 52%, #e5e7eb) !important;
  background-color: transparent !important;
}

.btn-outline-warning {
  border: none !important;
  color: var(--warning-color, #f59e0b) !important;
  background-color: transparent !important;
}
.btn-outline-warning:hover {
  background-color: color-mix(in srgb, var(--warning-color, #f59e0b) var(--btn-warning-outline-hover-tint), #ffffff) !important;
}
/* Active ligeramente más marcado */
.btn-outline-warning:active, .btn-outline-warning.active {
  background-color: color-mix(in srgb, var(--warning-color, #f59e0b) var(--btn-warning-outline-active-tint), #ffffff) !important;
}
.btn-outline-warning:focus-visible {
  box-shadow: 0 0 0 0.2rem rgba(245, 158, 11, 0.25) !important;
}
.btn-outline-warning:disabled, .btn-outline-warning.disabled {
  color: color-mix(in srgb, var(--warning-color, #f59e0b) 48%, #9ca3af) !important;
  border-color: color-mix(in srgb, var(--warning-color, #f59e0b) 48%, #e5e7eb) !important;
  background-color: transparent !important;
}

.btn-outline-danger {
  border: none !important;
  color: var(--danger-color, #ef4444) !important;
  background-color: transparent !important;
}
.btn-outline-danger:hover {
  background-color: color-mix(in srgb, var(--danger-color, #ef4444) var(--btn-danger-outline-hover-tint), #ffffff) !important;
}
/* Active ligeramente más marcado */
.btn-outline-danger:active, .btn-outline-danger.active {
  background-color: color-mix(in srgb, var(--danger-color, #ef4444) var(--btn-danger-outline-active-tint), #ffffff) !important;
}
.btn-outline-danger:focus-visible {
  box-shadow: 0 0 0 0.2rem rgba(239, 68, 68, 0.25) !important;
}
.btn-outline-danger:disabled, .btn-outline-danger.disabled {
  color: color-mix(in srgb, var(--danger-color, #ef4444) 52%, #9ca3af) !important;
  border-color: color-mix(in srgb, var(--danger-color, #ef4444) 52%, #e5e7eb) !important;
  background-color: transparent !important;
}

.btn-outline-info {
  border: none !important;
  color: var(--info-color, #3b82f6) !important;
  background-color: transparent !important;
}
.btn-outline-info:hover {
  background-color: color-mix(in srgb, var(--info-color, #3b82f6) var(--btn-info-outline-hover-tint), #ffffff) !important;
}
/* Active ligeramente más marcado */
.btn-outline-info:active, .btn-outline-info.active {
  background-color: color-mix(in srgb, var(--info-color, #3b82f6) var(--btn-info-outline-active-tint), #ffffff) !important;
}
.btn-outline-info:focus-visible {
  box-shadow: 0 0 0 0.2rem rgba(59, 130, 246, 0.25) !important;
}
.btn-outline-info:disabled, .btn-outline-info.disabled {
  color: color-mix(in srgb, var(--info-color, #3b82f6) 52%, #9ca3af) !important;
  border-color: color-mix(in srgb, var(--info-color, #3b82f6) 52%, #e5e7eb) !important;
  background-color: transparent !important;
}